{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>               Bases: <code>BaseModel</code></p> Source code in <code>contract.py</code> <pre><code>class Sells(BaseModel):\n  email: EmailStr\n  date_time: datetime\n  value: PositiveFloat\n  quantity: PositiveInt\n  product: str\n</code></pre> <p>Fun\u00e7\u00e3o para salvar no postgres</p> <p>Parameters:</p> Name Type Description Default <code>email</code> <code>EmailStr</code> <p>E-mail do vendedor</p> required <code>date_time</code> <code>datetime</code> <p>Data da venda realizada</p> required <code>value</code> <code>PositiveFloat</code> <p>Valor da venda</p> required <code>quantity</code> <code>PositiveInt</code> <p>Quantidade de produtos vendidos</p> required <code>product</code> <code>str</code> <p>Produto vendido</p> required Source code in <code>database.py</code> <pre><code>def save_on_postgres(data: Sells):\n    \"\"\"\n    Fun\u00e7\u00e3o para salvar no postgres\n\n    Args:\n      email (EmailStr): E-mail do vendedor\n      date_time (datetime): Data da venda realizada\n      value (PositiveFloat): Valor da venda\n      quantity (PositiveInt): Quantidade de produtos vendidos\n      product (str): Produto vendido\n    \"\"\"\n\n    try:\n        conn = psycopg2.connect(\n            host=DB_HOST,\n            database=DB_NAME,\n            user=DB_USER,\n            password=DB_PASS\n        )\n        cursor = conn.cursor()\n\n        # Inser\u00e7\u00e3o dos data na tabela de vendas\n        insert_query = sql.SQL(\n            \"INSERT INTO sells (email, date_time, value, quantity, product) VALUES (%s, %s, %s, %s, %s)\"\n        )\n        cursor.execute(insert_query, (\n            data.email,\n            data.date_time,\n            data.value,\n            data.quantity,\n            data.product\n        ))\n        conn.commit()\n        cursor.close()\n        conn.close()\n        st.success(\"Dados salvos com sucesso no banco de dados!\")\n    except Exception as e:\n        st.error(f\"Erro ao salvar no banco de dados: {e}\")\n</code></pre>"}]}